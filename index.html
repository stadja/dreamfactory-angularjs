<!doctype html>
<html ng-app='CollaborateurSpinner'>
<head>
    <!-- <script src="lib/require.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-rc.0/angular.js"></script>
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-rc.0/angular-resource.js"></script> -->
    <!-- <script src='lib/shred.bundle.js' type='text/javascript'></script> -->
    <!-- <script src='lib/swagger.js' type='text/javascript'></script> -->
    <!-- <script src='lib/sdk-init.js' type='text/javascript'></script> -->
    <script src='lib/markdown.js' type='text/javascript'></script>
    <!-- <script src='lib/angular-dreamfactory.js' type='text/javascript'></script> -->
    <script src='app.js' type='text/javascript'></script>
    <script src='controllers/StoreController.js' type='text/javascript'></script>
    <!-- <script src='services/DreamFactory.js' type='text/javascript'></script> -->
    <script src='services/DreamFactoryBeta.js' type='text/javascript'></script>
    <script src='models/Abstract.js' type='text/javascript'></script>
    <script src='models/Posts.js' type='text/javascript'></script>
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.17/angular-resource.min.js"></script> -->
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.17/angular-route.min.js"></script> -->
    <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="ressources/style.css">
</head>
<body ng-controller="StoreController as store">
    <h1>
        <a ng-click="store.changeRecordManager('Posts')">Les Posts</a>
        <img src="ressources/ajax-loader.gif" class="loader" ng-class="{on:store.loading, off:!store.loading}"/>
    </h1>
    <div>
        <form name='limitForm' class='form-inline'>
            <span ng-show='store.count'>
                <input type="number" min="0" size="3" ng-model="store.offset" ng-change='limitForm.$valid && store.loadRecords()' value="{{store.offset}}"/> / {{store.count - 1}}
                <button class="btn" ng-click='store.prev()' ng-disabled='!store.offset'>
                    <i class='glyphicon glyphicon-chevron-left'></i>
                </button>
                <button class="btn" ng-click='store.next()' ng-disabled='store.count <= (store.offset + store.limit)'>
                    <i class='glyphicon glyphicon-chevron-right'></i>
                </button>
                {{Math.floor(store.offset/store.limit) + 1}}/{{(store.count == store.limit) ? 1 : Math.floor(store.count/store.limit) + 1}} :
                <input type="number" min="1" size="3" ng-model="store.limit" ng-change='limitForm.$valid' value="{{store.limit}}"/>
            </span>
        </form>
    <span>
        <ul class='list-group'>
            <li class="list-group-item" ng-repeat='record in store.records' record-display></li>
        </ul>
    </div>
</body>
</html>